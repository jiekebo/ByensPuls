function calculateTrainPercentages(e){var t=null,n="getTrainLine";for(var r in e){var i=e[r];if(i==t)continue;if(i.action==t||i.x==t)continue;var s=new Vector(i.x,i.y),o=util.findClosestLine(s,util[n](i.linie),r),u=util.convertPointToPercentage(s,o,util[n](i.linie[0]),r);i.percentage=u,self.postMessage({type:"debug",message:" train with id "+r+" found at "+i.x+", "+i.y+" closest line is "+o+" completed "+u+"%"})}}importScripts("lib-min.js");var util=new Util;addEventListener("message",function(e){var t=JSON.parse(e.data);calculateTrainPercentages(t),self.postMessage({type:"data",message:t})});