Constants = function() {
	var atrack = [{x:1509, y:8647},{x:5675, y:8647},{x:5955, y:9027},{x:6091, y:9137},{x:6264, y:9171},{x:6433, y:9137},{x:6585, y:9028},{x:7920, y:7147},{x:7959, y:7062},{x:7965, y:6985},{x:7917, y:6853},{x:7580, y:6289},{x:7581, y:1122}];
	var atrackstations = [{name:"Solr√∏d Str.", x:1509, y:8647},
						  {name:"Karlslunde", x:1797, y:8647},
						  {name:"Greve", x:2075, y:8647},
						  {name:"Hundige", x:2357, y:8647},
						  {name:"Ish\u00F8j", x:2637, y:8647},
						  {name:"Vallensb\u00E6k", x:2913, y:8647},
						  {name:"Br\u00F8ndby Str.", x:3194, y:8647},
						  {name:"Aved\u00F8re", x:3472, y:8647},
						  {name:"Friheden", x:3752, y:8647},
						  {name:"\u00C5marken", x:4031, y:8647},
						  {name:"Ny Ellebjerg", x:4317, y:8647},
						  {name:"Sj\u00E6l\u00F8r", x:4596, y:8647},
						  {name:"Sydhavn", x:4876, y:8647},
						  {name:"Dybb\u00F8lsbro", x:5748, y:8747},
						  {name:"K\u00F8benhavn H", x:6896, y:8590},
						  {name:"Vesterport", x:7090, y:8317},
						  {name:"N\u00F8rreport", x:7290, y:8035},
						  {name:"\u00D8sterport", x:7485, y:7759},
						  {name:"Nordhavn", x:7681, y:7483},
						  {name:"Svanem\u00F8llen", x:7882, y:7200},
						  {name:"Ryparken", x:7580, y:6108},
						  {name:"Emdrup", x:7580, y:5132},
						  {name:"Dysseg\u00E5rd", x:7580, y:4742},
						  {name:"Vangede", x:7581, y:4352},
						  {name:"Kildebakke", x:7581, y:3962},
						  {name:"Buddinge", x:7581, y:3567},
						  {name:"Steng\u00E5rden", x:7581, y:3176},
						  {name:"Bagsv\u00E6rd", x:7581, y:2782},
						  {name:"Skovbrynet", x:7581, y:2389},
						  {name:"Hareskov", x:7581, y:1996},
						  {name:"V\u00E6rl\u00F8se", x:7581, y:1601},
						  {name:"Farum", x:7581, y:1122}];

	var btrack = [{x:2355, y:7635},{x:5249, y:7635},{x:6035, y:8748},{x:6134, y:8851},{x:6258, y:8901},{x:6389, y:8854},{x:6479, y:8781},{x:8188, y:6355},{x:8191, y:2715}];	
	var btrackstations = [{name:"H\u00F8je Taastrup", x:2355, y:7635},
						  {name:"Taastrup", x:2639, y:7635},
						  {name:"Albertslund", x:2919, y:7635},
						  {name:"Glostrup", x:3199, y:7635},
						  {name:"Br\u00F8ndby\u00F8ster", x:3480, y:7635},
						  {name:"R\u00F8dovre", x:3758, y:7635},
						  {name:"Hvidovre", x:4035, y:7635},
						  {name:"Dansh\u00F8j", x:4315, y:7635},
						  {name:"Valby", x:5497, y:7986},
						  {name:"Enghave", x:5695, y:8266},
						  {name:"Dybb\u00F8lsbro", x:5893, y:8547},
						  {name:"K\u00F8benhavn H", x:6750, y:8397},
						  {name:"Vesterport", x:6947, y:8117},
						  {name:"N\u00F8rreport", x:7146, y:7834},
						  {name:"\u00D8sterport", x:7339, y:7560},
						  {name:"Nordhavn", x:7536, y:7280},
						  {name:"Svanem\u00F8llen", x:7730, y:7005},
						  {name:"Hellerup", x:7943, y:6703},
						  {name:"Bernstorffsvej", x:8189, y:5137},
						  {name:"Gentofte", x:8189, y:4742},
						  {name:"J\u00E6gersborg", x:8190, y:4347},
						  {name:"Lyngby", x:8190, y:3962},
						  {name:"Sorgenfri", x:8190, y:3564},
						  {name:"Virum", x:8190, y:3176},
						  {name:"Holte", x:8191, y:2715}];

	var bxtrack = [{x:2362, y:7495},{x:5301, y:7497},{x:6094, y:8630},{x:6166, y:8706},{x:6262, y:8751},{x:6355, y:8719},{x:6433, y:8655},{x:7266, y:7466}];
	var bxtrackstations = [{name:"H\u00F8je Taastrup", x:2362, y:7495},
						   {name:"Taastrup", x:2639, y:7495},
						   {name:"Albertslund", x:2920, y:7495},
						   {name:"Glostrup", x:3197, y:7495},
						   {name:"Dansh\u00F8j", x:4314, y:7496},
						   {name:"Valby", x:5566, y:7876},
						   {name:"Enghave", x:5766, y:8162},
						   {name:"Dybb\u00F8lsbro", x:5964, y:8444},
						   {name:"K\u00F8benhavn H", x:6682, y:8299},
						   {name:"Vesterport", x:6880, y:8017},
						   {name:"N\u00F8rreport", x:7075, y:7738},
						   {name:"\u00D8sterport", x:7266, y:7466}];

	var ctrack = [{x:4181, y:325},{x:4181, y:5708},{x:6148, y:8506},{x:6206, y:8568},{x:6269, y:8606},{x:6339, y:8563},{x:6380, y:8508},{x:8053, y:6146},{x:8484, y:6146},{x:8965, y:5460}]
	var ctrackstations = [{name:"Frederikssund", x:4181, y:325},
						  {name:"\u00D8lstykke", x:4181, y:816},
						  {name:"Egedal", x:4181, y:1210},
						  {name:"Stenl\u00F8se", x:4181, y:1601},
						  {name:"Veks\u00F8", x:4181, y:1996},
						  {name:"Kildedal", x:4181, y:2391},
						  {name:"M\u00E5l\u00F8v", x:4181, y:2781},
						  {name:"Ballerup", x:4181, y:3172},
						  {name:"Malmparken", x:4181, y:3569},
						  {name:"Skovlunde", x:4181, y:3962},
						  {name:"Herlev", x:4181, y:4350},
						  {name:"Husum", x:4181, y:4744},
						  {name:"Islev", x:4181, y:5139},
						  {name:"Jyllingevej", x:4430, y:6062},
						  {name:"Vanl\u00F8se", x:4595, y:6296},
						  {name:"Flintholm", x:4759, y:6530},
						  {name:"Peter Bangs Vej", x:5092, y:7003},
						  {name:"Langgade", x:5290, y:7285},
						  {name:"Valby", x:5640, y:7783},
						  {name:"Enghave", x:5837, y:8063},
						  {name:"Dybb\u00F8lsbro", x:6031, y:8340},
						  {name:"K\u00F8benhavn H", x:6604, y:8192},
						  {name:"Vesterport", x:6803, y:7910},
						  {name:"N\u00F8rreport", x:6999, y:7634},
						  {name:"\u00D8sterport", x:7198, y:7353},
						  {name:"Nordhavn", x:7392, y:7079},
						  {name:"Svanem\u00F8llen", x:7591, y:6798},
						  {name:"Hellerup", x:7805, y:6496},
						  {name:"Charlottenlund", x:8572, y:6020},
						  {name:"Ordrup", x:8765, y:5746},
						  {name:"Klampenborg", x:8965, y:5460}];

	var etrack = [{x:678, y:8503},{x:5721, y:8503},{x:6011, y:8902},{x:6114, y:8991},{x:6259, y:9033},{x:6417, y:8999},{x:6558, y:8882},{x:8284, y:6423},{x:8284, y:1530}];
	var etrackstations = [{name:"K\u00F8ge", x:678, y:8503},
						  {name:"\u00D8lby", x:958, y:8503},
						  {name:"Jersie", x:1237, y:8503},
						  {name:"Solr\u00F8d Str.", x:1520, y:8503},
						  {name:"Karlslunde", x:1800, y:8503},
						  {name:"Greve", x:2080, y:8503},
						  {name:"Hundige", x:2357, y:8503},
						  {name:"Ish\u00F8j", x:2632, y:8503},
						  {name:"Friheden", x:3754, y:8503},
						  {name:"Ny Ellebjerg", x:4316, y:8503},
						  {name:"Sj\u00E6l\u00F8r", x:4596, y:8503},
						  {name:"Sydhavn", x:4874, y:8503},
						  {name:"Dybb\u00F8lsbro", x:5820, y:8639},
						  {name:"K\u00F8benhavn H", x:6825, y:8500},
						  {name:"Vesterport", x:7027, y:8213},
						  {name:"N\u00F8rreport", x:7220, y:7939},
						  {name:"\u00D8sterport", x:7414, y:7662},
						  {name:"Nordhavn", x:7612, y:7381},
						  {name:"Svanem\u00F8llen", x:7811, y:7096},
						  {name:"Hellerup", x:8019, y:6801},
						  {name:"Lyngby", x:8284, y:3952},
						  {name:"Holte", x:8284, y:2767},
						  {name:"Birker\u00F8d", x:8284, y:2386},
						  {name:"Aller\u00F8d", x:8284, y:1996},
						  {name:"Hiller\u00F8d", x:8284, y:1530}];

	var ftrack = [{x: 4400, y: 8411}, {x: 4397, y: 7193}, {x: 5131, y: 6160}, {x: 7798, y: 6155}];
	var ftrackstations = [{name:"Ny Ellebjerg", x:4400, y:8411},
						  {name:"Vigerslev Alle", x:4399, y:7992},
						  {name:"Dansh\u00F8j", x:4398, y:7435},
						  {name:"\u00C5lholm", x:4536, y:6998},
						  {name:"KB Hallen", x:4675, y:6801},
						  {name:"Flintholm", x:4917, y:6462},
						  {name:"Gr\u00F8ndal", x:5969, y:6158},
						  {name:"Fuglebakken", x:6321, y:6158},
						  {name:"N\u00F8rrebro", x:6671, y:6157},
						  {name:"Bispebjerg", x:7022, y:6157},
						  {name:"Ryparken", x:7371, y:6156},
						  {name:"Hellerup", x:7798, y:6155}];
	
	var htrack = [{x:4277, y:317},{x:4277, y:5628},{x:6270, y:8473},{x:7546, y:6655},{x:7573, y:6595},{x:7561, y:6548},{x:7476, y:6413},{x:7476, y:1121}];
	var htrackstations = [{name:"Frederikssund", x:4277, y:325},
						  {name:"\u00D8lstykke", x:4277, y:811},
						  {name:"Egedal", x:4277, y:1206},
						  {name:"Stenl\u00F8se", x:4277, y:1597},
						  {name:"Veks\u00F8", x:4277, y:1992},
						  {name:"M\u00E5l\u00F8v", x:4277, y:2777},
						  {name:"Ballerup", x:4277, y:3167},
						  {name:"Malmparken", x:4277, y:3562},
						  {name:"Herlev", x:4277, y:4352},
						  {name:"Husum", x:4277, y:4747},
						  {name:"Vanl\u00F8se", x:4667, y:6184},
						  {name:"Flintholm", x:4832, y:6421},
						  {name:"Valby", x:5713, y:7678},
						  {name:"Enghave", x:5907, y:7955},
						  {name:"Dybb\u00F8lsbro", x:6107, y:8241},
						  {name:"K\u00F8benhavn H", x:6535, y:8095},
						  {name:"Vesterport", x:6733, y:7813},
						  {name:"N\u00F8rreport", x:6927, y:7537},
						  {name:"\u00D8sterport", x:7122, y:7258},
						  {name:"Nordhavn", x:7320, y:6977},
						  {name:"Svanem\u00F8llen", x:7520, y:6692},
						  {name:"Ryparken", x:7476, y:6103},
						  {name:"Vangede", x:7476, y:4347},
						  {name:"Buddinge", x:7476, y:3562},
						  {name:"Steng\u00E5rden", x:7476, y:3172},
						  {name:"Bagsv\u00E6rd", x:7476, y:2781},
						  {name:"Hareskov", x:7476, y:1996},
						  {name:"V\u00E6rl\u00F8se", x:7476, y:1601},
						  {name:"Farum", x:7476, y:1121}];

	this.tracks = {};

	this._convertCoordinatesToVectors(atrack, "A");
	this._calculateStationsPercentages(atrackstations, "A");
    this._convertCoordinatesToVectors(btrack, "B");
    this._calculateStationsPercentages(btrackstations, "B");
    this._convertCoordinatesToVectors(bxtrack, "BX");
    this._calculateStationsPercentages(bxtrackstations, "BX");
    this._convertCoordinatesToVectors(ctrack, "C");
    this._calculateStationsPercentages(ctrackstations, "C");
    this._convertCoordinatesToVectors(etrack, "E");
    this._calculateStationsPercentages(etrackstations, "E");
    this._convertCoordinatesToVectors(ftrack, "F");
    this._calculateStationsPercentages(ftrackstations, "F");
    this._convertCoordinatesToVectors(htrack, "H");
    this._calculateStationsPercentages(htrackstations, "H");
}

Constants.prototype = {
	// Assumes the coordinates are ordered from start to end of the track.
	_convertCoordinatesToVectors: function (coordinates, trackName) {
	    var lines = [];
	    var length = 0;
	    for(var i = 0; i < coordinates.length-1; i++) {
	        current = coordinates[i];
	        next = coordinates[i+1];
	        start = new Vector(current.x, current.y);
	        end = new Vector(next.x, next.y);
	        direction = new Vector(current.x, current.y, next.x, next.y);
	        var line = {
	            start: start, 
	            end: end, 
	            length: length, 
	            line: new Line(start, direction)
	        };
	        length += direction.length()
	        lines.push(line);
	    }
	    this.tracks[trackName] = {
	        length: length,
	        lines: lines
	    };
	},

	_calculateStationsPercentages: function (stationPositions, trackName) {
		var stations = [];
		for(stationPositionNo in stationPositions) {
			var stationPosition = stationPositions[stationPositionNo];

			var point = new Vector(stationPosition.x, stationPosition.y);
			var closestLineIndex = this._findClosestLine(point, trackName, 0);
			var percentage = this._convertPointToPercentage(point, closestLineIndex, trackName, 0);

			stations.push({name: stationPosition.name, percentage: percentage});
		}
		this.tracks[trackName].stations = stations;
	}
}
